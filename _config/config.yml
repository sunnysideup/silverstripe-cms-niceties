---
Name: cms-niceties
---
SilverStripe\Admin\ModelAdmin:
  page_length: 20

  extensions:
    - Sunnysideup\CMSNiceties\Extensions\ModelAdminExtension

SilverStripe\i18n\i18n:
  locale: en_GB

SilverStripe\Security\Member:
  extensions:
    - Sunnysideup\CMSNiceties\Extensions\MemberExtension

SilverStripe\Admin\LeftAndMain:
  extensions:
    - Sunnysideup\CMSNiceties\Extensions\LeftAndMainExtension
  extra_requirements_css:
    - 'sunnysideup/cms-niceties: client/dist/main.css'
  help_links:
    'Developer docs': ''
    'Community': ''
    'Feedback': ''

  extra_requirements_javascript:
    - 'sunnysideup/cms-niceties: client/dist/runtime.js'
    - 'sunnysideup/cms-niceties: client/dist/app.js'
    # - 'sunnysideup/cms-niceties: client/lang/en.js'

SilverStripe\Dev\TaskRunner:
  css: 'nothinghere'

SilverStripe\Forms\HTMLEditor\HTMLEditorField:
  default_rows: 3
  # fixed_row_height: 3

# speed up the site...
SilverStripe\CMS\Controllers\CMSMain:
  enable_dynamic_archive_warning_message: false

SilverStripe\ORM\FieldType\DBDate:
  nice_format: 'j.n.Y'

SilverStripe\ORM\FieldType\DBTime:
  nice_format: 'H:i'

SilverStripe\ORM\FieldType\DBDatetime:
  nice_format: 'j.n.Y H:i'

SilverStripe\Control\Session:
  cookie_secure: true
  cookie_name_secure: 'PHPSESSID'

  SilverStripe\Core\Injector\Injector:
  App\Services\MediumQueuedJobService:
    properties:
      queueRunner: '%$App\Tasks\Engines\MediumQueueAsyncRunner'

---
# this is added to first reset (above) and then add the new values
Name: cms-niceties-hack
---
SilverStripe\Dev\TaskRunner:
  css:
    0: 'sunnysideup/cms-niceties: client/dist/css/app_task-runner.css'

SilverStripe\Core\Injector\Injector:
  SilverStripe\Control\Middleware\CanonicalURLMiddleware:
    properties:
      enabledEnvs:
        - dev

## TO DO: this does not work at all!!!
---
Name: canonicalurls_better
After: 'canonicalurls'
Except:
  Environment: 'dev'
---
SilverStripe\Core\Injector\Injector:
  SilverStripe\Control\Middleware\CanonicalURLMiddleware:
    properties:
      forceSSL: true
      enabledEnvs:
        - test # live is already enabled by default, thank you axllent!
